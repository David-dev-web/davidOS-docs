<!-- 1. CSS: Das Aussehen unseres Banners -->
<style>
  #theme-banner {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    background-color: #333;
    color: white;
    padding: 15px;
    text-align: center;
    z-index: 1000;
    display: none; /* Standardmäßig versteckt */
    box-shadow: 0 -2px 10px rgba(0,0,0,0.5);
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
  }
  #theme-banner p {
    margin: 0 0 10px 0;
    font-size: 16px;
  }
  .banner-button {
    padding: 8px 15px;
    border: 1px solid white;
    background-color: transparent;
    color: white;
    cursor: pointer;
    margin: 0 5px;
    border-radius: 4px;
    transition: background-color 0.3s, color 0.3s;
  }
  .banner-button:hover {
    background-color: white;
    color: #333;
  }
</style>

<!-- 2. HTML: Die Struktur unseres Banners -->
<div id="theme-banner">
  <p>Choose your preferred theme:</p>
  <button id="light-mode-btn" class="banner-button">Light Mode</button>
  <button id="dark-mode-btn" class="banner-button">Dark Mode</button>
</div>

<!-- 3. JavaScript (FINALE VERSION mit besserem Kontrast) -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const banner = document.getElementById('theme-banner');
    const lightBtn = document.getElementById('light-mode-btn');
    const darkBtn = document.getElementById('dark-mode-btn');
    const body = document.body;
    
    // Wir wählen jetzt alle wichtigen Elemente aus
    const mainContent = document.querySelector('.main-content');
    const allHeaders = document.querySelectorAll('h1, h2, h3, h4, h5, h6');
    const allLinks = document.querySelectorAll('a');

    function setTheme(theme) {
      if (theme === 'dark') {
        // Hintergrund dunkel machen
        body.style.backgroundColor = '#1e1e1e';
        
        // Haupttext hell machen
        if(mainContent) {
            mainContent.style.color = '#e0e0e0'; // Ein sanftes Weiß
        }
        
        // Alle Überschriften hell machen
        allHeaders.forEach(header => header.style.color = '#ffffff');
        
        // Alle Links hellblau machen, damit sie herausstechen
        allLinks.forEach(link => link.style.color = '#68a0ff');

      } else { // Light Mode
        // Alles wieder auf Standard zurücksetzen
        body.style.backgroundColor = '#ffffff';
        if(mainContent) {
            mainContent.style.color = ''; // Leer = Browser-Standard (schwarz)
        }
        allHeaders.forEach(header => header.style.color = '');
        allLinks.forEach(link => link.style.color = '');
      }
      
      localStorage.setItem('themeChoice', theme);
      if(banner) {
        banner.style.display = 'none';
      }
    }

    if(lightBtn) {
        lightBtn.addEventListener('click', () => setTheme('light'));
    }
    if(darkBtn) {
        darkBtn.addEventListener('click', () => setTheme('dark'));
    }

    const userChoice = localStorage.getItem('themeChoice');
    if (!userChoice && banner) {
      banner.style.display = 'block';
    } else if (userChoice) {
      setTheme(userChoice);
    }
  });
</script>
